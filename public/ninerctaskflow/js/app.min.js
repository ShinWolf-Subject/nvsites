/*  
///////////////////////////////////////////////////////////////
//                copyright Â© 2025 AlenLST
///////////////////////////////////////////////////////////

*/

function TaskFlowApp(){const initialTasks=JSON.parse(localStorage.getItem("tasks"))||sampleTasks;const initialSettings=JSON.parse(localStorage.getItem("settings"))||{theme:"light",autoSave:!0,notifications:!0,soundEffects:!1,compactView:!1,showCompletedTasks:!0,};const[tasks,setTasks]=useState(initialTasks);const[showModal,setShowModal]=useState(!1);const[editingTask,setEditingTask]=useState(null);const[draggedTask,setDraggedTask]=useState(null);const[showSettings,setShowSettings]=useState(!1);const[showHelp,setShowHelp]=useState(!1);const[settings,setSettings]=useState(initialSettings);useEffect(()=>{localStorage.setItem("tasks",JSON.stringify(tasks))},[tasks]);useEffect(()=>{localStorage.setItem("settings",JSON.stringify(settings))},[settings]);useEffect(()=>{const body=document.body;body.classList.remove("light-theme","dark-theme");if(settings.theme==="dark"){body.classList.add("dark-theme")}else if(settings.theme==="light"){body.classList.add("light-theme")}else{const prefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches;if(prefersDark){body.classList.add("dark-theme")}else{body.classList.add("light-theme")}}},[settings.theme]);const allTasks=settings.showCompletedTasks?tasks:tasks.filter((task)=>task.status!=="done");const todoTasks=allTasks.filter((task)=>task.status==="todo");const progressTasks=allTasks.filter((task)=>task.status==="progress");const reviewTasks=allTasks.filter((task)=>task.status==="review");const doneTasks=settings.showCompletedTasks?tasks.filter((task)=>task.status==="done"):[];const handleAddTask=()=>{setEditingTask(null);setShowModal(!0)};const handleEditTask=(task)=>{setEditingTask(task);setShowModal(!0)};const handleDeleteTask=(taskId)=>{const deleteConfirmed=window.prompt("Are you sure you want to delete this task? Type 'DELETE' to confirm.");if(deleteConfirmed==="DELETE"){setTasks(tasks.filter((task)=>task.id!==taskId))}};const handleSaveTask=(taskData)=>{if(editingTask){setTasks(tasks.map((task)=>(task.id===taskData.id?taskData:task)))}else{setTasks([...tasks,taskData])}};const handleTaskMove=useCallback((taskId,newStatus)=>{setTasks((prevTasks)=>prevTasks.map((task)=>task.id===taskId?{...task,status:newStatus}:task))},[]);const handleSettingsChange=(newSettings)=>{setSettings(newSettings);console.log("Settings updated:",newSettings)};return(<div
className={`app-container ${settings.compactView ? "compact-mode" : ""}`}><Header
onSettingsClick={()=>setShowSettings(!0)}
onHelpClick={()=>setShowHelp(!0)}/><div className="container"><StatsOverview tasks={tasks}/><div className="row mb-4"><div className="col-12"><div className="d-flex justify-content-between align-items-center"><h2 className="h4">My Tasks</h2><button
className="btn btn-add-task text-white"
onClick={handleAddTask}><i className="fas fa-plus me-2"></i>Add New Task</button></div></div></div><div className="row"><TaskColumn
title="To Do"
status="todo"
tasks={todoTasks}
count={todoTasks.length}
onEdit={handleEditTask}
onDelete={handleDeleteTask}
onTaskMove={handleTaskMove}
draggedTask={draggedTask}/><TaskColumn
title="In Progress"
status="progress"
tasks={progressTasks}
count={progressTasks.length}
onEdit={handleEditTask}
onDelete={handleDeleteTask}
onTaskMove={handleTaskMove}
draggedTask={draggedTask}/><TaskColumn
title="Review"
status="review"
tasks={reviewTasks}
count={reviewTasks.length}
onEdit={handleEditTask}
onDelete={handleDeleteTask}
onTaskMove={handleTaskMove}
draggedTask={draggedTask}/><TaskColumn
title="Done"
status="done"
tasks={doneTasks}
count={doneTasks.length}
onEdit={handleEditTask}
onDelete={handleDeleteTask}
onTaskMove={handleTaskMove}
draggedTask={draggedTask}/></div></div><TaskModal
show={showModal}
onClose={()=>setShowModal(!1)}
onSave={handleSaveTask}
taskToEdit={editingTask}/><SettingsModal
show={showSettings}
onClose={()=>setShowSettings(!1)}
settings={settings}
onSettingsChange={handleSettingsChange}/><HelpModal show={showHelp}onClose={()=>setShowHelp(!1)}/><MessageModal/></div>)}
const root=ReactDOM.createRoot(document.getElementById("root"));root.render(<TaskFlowApp />)